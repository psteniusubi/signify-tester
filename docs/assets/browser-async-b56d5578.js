import{B as v,a as A,b as S,c as k,d as W,e as T,f as j,h as O,i as x,k as B,m as M,p as R}from"./index-d5729051.js";const H=e=>typeof e=="object"&&!!e&&"then"in e,U=(e,t)=>{let r;try{r=t(e)}catch(n){throw e.dispose(),n}return H(r)?r.then(n=>(e.dispose(),n),n=>{throw e.dispose(),n}):(e.dispose(),r)},E=Object.freeze(Object.defineProperty({__proto__:null,BaseHash:v,BaseHashReader:A,BrowserHasher:S,createHash:k,createKeyed:W,defaultHashLength:T,deriveKey:j,hash:O,inputToArray:x,keyedHash:B,maxHashBytes:M,using:U},Symbol.toStringTag,{value:"Module"}));let a,g=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});g.decode();let d=null;function f(){return(d===null||d.buffer!==a.memory.buffer)&&(d=new Uint8Array(a.memory.buffer)),d}function C(e,t){return g.decode(f().subarray(e,e+t))}let o=0;function l(e,t){const r=t(e.length*1);return f().set(e,r/1),o=e.length,r}function L(e,t){try{var r=l(e,a.__wbindgen_malloc),n=o,s=l(t,a.__wbindgen_malloc),_=o;a.hash(r,n,s,_)}finally{t.set(f().subarray(s/1,s/1+_)),a.__wbindgen_free(s,_*1)}}function I(){var e=a.create_hasher();return h.__wrap(e)}function $(e){var t=l(e,a.__wbindgen_malloc),r=o,n=a.create_keyed(t,r);return h.__wrap(n)}let b=new TextEncoder("utf-8");const F=typeof b.encodeInto=="function"?function(e,t){return b.encodeInto(e,t)}:function(e,t){const r=b.encode(e);return t.set(r),{read:e.length,written:r.length}};function P(e,t,r){if(r===void 0){const c=b.encode(e),u=t(c.length);return f().subarray(u,u+c.length).set(c),o=c.length,u}let n=e.length,s=t(n);const _=f();let i=0;for(;i<n;i++){const c=e.charCodeAt(i);if(c>127)break;_[s+i]=c}if(i!==n){i!==0&&(e=e.slice(i)),s=r(s,n,n=i+e.length*3);const c=f().subarray(s+i,s+n),u=F(e,c);i+=u.written}return o=i,s}function q(e){var t=P(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=o,n=a.create_derive(t,r);return h.__wrap(n)}const p=new Uint32Array(2),z=new BigUint64Array(p.buffer);class h{static __wrap(t){const r=Object.create(h.prototype);return r.ptr=t,r}free(){const t=this.ptr;this.ptr=0,a.__wbg_blake3hash_free(t)}reader(){var t=a.blake3hash_reader(this.ptr);return w.__wrap(t)}update(t){var r=l(t,a.__wbindgen_malloc),n=o;a.blake3hash_update(this.ptr,r,n)}digest(t){try{var r=l(t,a.__wbindgen_malloc),n=o;a.blake3hash_digest(this.ptr,r,n)}finally{t.set(f().subarray(r/1,r/1+n)),a.__wbindgen_free(r,n*1)}}}class w{static __wrap(t){const r=Object.create(w.prototype);return r.ptr=t,r}free(){const t=this.ptr;this.ptr=0,a.__wbg_hashreader_free(t)}fill(t){try{var r=l(t,a.__wbindgen_malloc),n=o;a.hashreader_fill(this.ptr,r,n)}finally{t.set(f().subarray(r/1,r/1+n)),a.__wbindgen_free(r,n*1)}}set_position(t){z[0]=t;const r=p[0],n=p[1];a.hashreader_set_position(this.ptr,r,n)}}async function D(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(n){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}async function m(e){typeof e>"u"&&(e=import.meta.url.replace(/\.js$/,"_bg.wasm"));const t={};t.wbg={},t.wbg.__wbindgen_throw=function(s,_){throw new Error(C(s,_))},(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:n}=await D(await e,t);return a=r.exports,m.__wbindgen_wasm_module=n,a}const K=Object.freeze(Object.defineProperty({__proto__:null,Blake3Hash:h,HashReader:w,create_derive:q,create_hasher:I,create_keyed:$,default:m,hash:L},Symbol.toStringTag,{value:"Module"}));let y;function V(e){return y||(y=m(e).then(()=>(R(K),E))),y}export{V as default};
